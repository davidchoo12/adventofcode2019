import math

x = '''#.#................#..............#......#......
.......##..#..#....#.#.....##...#.........#.#...
.#...............#....#.##......................
......#..####.........#....#.......#..#.....#...
.....#............#......#................#.#...
....##...#.#.#.#.............#..#.#.......#.....
..#.#.........#....#..#.#.........####..........
....#...#.#...####..#..#..#.....#...............
.............#......#..........#...........#....
......#.#.........#...............#.............
..#......#..#.....##...##.....#....#.#......#...
...#.......##.........#.#..#......#........#.#..
#.............#..........#....#.#.....#.........
#......#.#................#.......#..#.#........
#..#.#.....#.....###..#.................#..#....
...............................#..........#.....
###.#.....#.....#.............#.......#....#....
.#.....#.........#.....#....#...................
........#....................#..#...............
.....#...#.##......#............#......#.....#..
..#..#..............#..#..#.##........#.........
..#.#...#.......#....##...#........#...#.#....#.
.....#.#..####...........#.##....#....#......#..
.....#..#..##...............................#...
.#....#..#......#.#............#........##...#..
.......#.....................#..#....#.....#....
#......#..###...........#.#....#......#.........
..............#..#.#...#.......#..#.#...#......#
.......#...........#.....#...#.............#.#..
..##..##.............#........#........#........
......#.............##..#.........#...#.#.#.....
#........#.........#...#.....#................#.
...#.#...........#.....#.........#......##......
..#..#...........#..........#...................
.........#..#.......................#.#.........
......#.#.#.....#...........#...............#...
......#.##...........#....#............#........
#...........##.#.#........##...........##.......
......#....#..#.......#.....#.#.......#.##......
.#....#......#..............#.......#...........
......##.#..........#..................#........
......##.##...#..#........#............#........
..#.....#.................###...#.....###.#..#..
....##...............#....#..................#..
.....#................#.#.#.......#..........#..
#........................#.##..........#....##..
.#.........#.#.#...#...#....#........#..#.......
...#..#.#......................#...............#'''

# asteroids = map(lambda line: list(map(lambda char: True if char == '#' else False, line)), x.split('\n'))
width = 48
height = 48
# asteroids = list(list(True if char == '#' else False for char in line) for line in x.split('\n'))
# list of [x, y] coordinates of all asteroids
coords = [[j, i] for i, line in enumerate(x.split('\n')) for j, char in enumerate(line) if char == '#']
# print(len(coords))
# count of unique gradients of all asteroid from all asteroids
gradients = [ len(set([math.atan2(y2-y1, x2-x1) for [x2, y2] in coords])) for [x1, y1] in coords]
print(max(gradients))
# asteroids = [item for sublist in asteroids for item in sublist]
# detectable = []
# print(detectable)

# for i, line in enumerate(asteroids):
#   detectable.append([])
#   for j, asteroid in enumerate(line):
#     asteroids_copy = asteroids[:]
#     for k, line2 in enumerate(asteroids_copy):
#       for l, asteroid2 in enumerate(line2):

# for [x1, y1] in coords:
#   asteroids_copy = asteroids[:]
#   coords_copy = coords[:]
  # gradients = [ for [x2, y2] in coords]
  # while not coords_copy:
  #   [x_target, y_target] = coords_copy.pop()
  #   dx = x_target - x
  #   dy = y_target - y
  #   while 
  #   x_target + dx

# print(asteroids)